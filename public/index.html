<html>

<head>
    <link rel="stylesheet" href="bulma.min.css">
    <script src="http.js"></script>
    <script src="script.js"></script>
</head>

<style>
    /* Ursprüngliche Border-Klasse zur Visualisierung von Komponentengrößen und -limits */
    .border {
        /* border: 1px solid black; */
    }

    /* Flex-Container um ein Spaltenweises Layout mit einer 100% Höhe abbilden zu können (für flexgrow in .chat) */
    .flex-container {
        display: flex;
        flex-direction: column;
    }

    /* 100% Höhe  */
    .h-full {
        height: 100%;
    }

    /* 100% Breite  */
    .w-full {
        width: 100%
    }

    /* Scroll- und Größeneinstellung für den Chat */
    .chat {
        flex-grow: 1;
        overflow: auto;
    }

    /* Workaround, weil bei manchen der Body nicht 100% height hat */
    html,
    body {
        height: 100%;
    }

    /* Leichten Abstand nach Außen, sodass die Komponenten nicht an den Browserrand ecken */
    body {
        padding: 0.5rem;
    }

    /* Geteilte Formatierung der Chatbubbles */
    .chatbubble {
        border: 1px solid black;
        padding: 0.5rem;
        margin-bottom: 0.8rem;
        max-width: 60%;
        min-width: 35%;
        word-wrap: break-word;
        border-radius: 10px;
        box-shadow: 2px 2px 2px gray;
    }

    /* Left- und right-alignment der Chatbubbles, sowie custom Formatierung */
    .chatbubble-left {
        margin-right: auto;
        background-color: lightgreen;
    }

    .chatbubble-right {
        margin-left: auto;
        background-color: lightblue;
    }

    /* Trotz des word-wrap: break-word versagt der Browser
    bei sehr langem Text der keine Trennzeichen wie Leerzeichen,
    Bindestriche oder sonstige Satzzeichen hat, den Text umzubrechen.
    Um zu vermeiden, dass das ausartet und die Chatbubble zu groß wird,
    brauch die rechte Hälfte eine maximale Breite, und die bekommt sie hier.
    Die Aufteilung ist 1/3 und 2/3, und 2/3 sind etwa 66.66667%. */
    .right {
        max-width: 66.66667%
    }

    .contact-timestamp {
        font-size: 0.75rem;
    }

    .active-contact {
        background-color: aliceblue;
    }
</style>

<body>
    <div class="columns h-full">
        <div class="column right is-one-third border">
            <nav id="contacts" class="panel">
                <p class="panel-heading">
                    Kontakte
                </p>
                <div class="panel-block">
                    <p class="control">
                        <input class="input" type="text" placeholder="Search">
                    </p>
                </div>
                <!-- Hier gehören die Contacts hin -->
            </nav>
        </div>
        <div id="chat-half" style="visibility: hidden;" class="column border right">
            <div class="flex-container h-full">
                <div id="selected-user-name" class="box has-text-centered">Rainer Zufall</div>
                <div id="chatbox" class="box chat flex-container">
                    <!-- Hier gehören die Chatbubbles hin -->
                </div>
                <div class="field has-addons">
                    <div class="control w-full">
                        <input onkeypress="handleKeypress(event)" id="message" class="input" type="text"
                            placeholder="Please enter your message...">
                    </div>
                    <div class="control">
                        <button onclick="sendMessage()" class="button">
                            Send
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>

</html>